(this.webpackJsonpreact_app_customer_side=this.webpackJsonpreact_app_customer_side||[]).push([[0],{104:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=(a(104),a(39)),i=a(12),m=a(84),u=a(17),s=a(57),E=a(70);E.initializeApp({apiKey:"AIzaSyCTpFD2mrK4DTudbN6m_7iqP6uAHBgUAdo",authDomain:"issue-ticket-system.firebaseapp.com",databaseURL:"https://issue-ticket-system.firebaseio.com",projectId:"issue-ticket-system",storageBucket:"issue-ticket-system.appspot.com",messagingSenderId:"517587895598",appId:"1:517587895598:web:ec2ca471c2c93cf9e666bf"});var A=E,f=A.firestore(),p=a(179),b=a(54),d=a(161),h=a(86),v=a(162),g=a(163),j=a(164),O=a(165),w=a(166),y=a(167),C=c.a.createContext(),R=c.a.createContext();function S(e){var t=e.children,a=Object(n.useState)({}),r=Object(u.a)(a,2),l=r[0],o=r[1];return c.a.createElement(C.Provider,{value:l},c.a.createElement(R.Provider,{value:o},t))}function I(){var e=Object(n.useState)(void 0),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),E=Object(u.a)(l,2),A=E[0],C=E[1],S=Object(n.useContext)(R),I=Object(s.parse)(Object(i.f)().search).id;return Object(n.useEffect)((function(){void 0!==I&&null!==I&&function(e){f.collection("machineInfo").doc(e).get().then((function(e){console.log(e.data()),e.exists?(r(Object(m.a)({},e.data())),S(e.data())):C("Incorrect Machine QR Code.")})).catch((function(e){console.log(e),C(e)}))}(I)}),[I]),void 0===I||null===I?c.a.createElement(i.a,{to:"/"}):c.a.createElement("div",null,a&&c.a.createElement("div",null,c.a.createElement(p.a,{p:2},c.a.createElement(b.a,{variant:"h6"},"Machine Information"),c.a.createElement(d.a,{component:h.a},c.a.createElement(v.a,null,c.a.createElement(g.a,null,c.a.createElement(j.a,null,c.a.createElement(O.a,null,"Machine Reference Number"),c.a.createElement(O.a,null,a.machineRefNo)),c.a.createElement(j.a,null,c.a.createElement(O.a,null,"Installation Date"),c.a.createElement(O.a,null,function(e){e*=1e3;var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}(a.installDate.seconds))),c.a.createElement(j.a,null,c.a.createElement(O.a,null,"Installation Station"),c.a.createElement(O.a,null,a.installStation))))),c.a.createElement(p.a,{mt:1,display:"flex",justifyContent:"center"},c.a.createElement(w.a,{variant:"contained",color:"secondary",to:"/report-issue?machineRef=".concat(a.machineRefNo),component:o.b},"Report Issue")))),!a&&!A&&c.a.createElement(p.a,{display:"flex",justifyContent:"center",m:1,p:1},c.a.createElement(y.a,{color:"secondary"})),A&&c.a.createElement(p.a,{m:2,display:"flex",justifyContent:"center"},c.a.createElement(h.a,null,c.a.createElement(p.a,{p:2},c.a.createElement(b.a,{variant:"h6",color:"error"},A)))))}var N=a(168),B=a(172),k=a(173),T=a(174),D=a(185),M=a(184),x=a(182),U=a(169),Q=a(170),F=a(171),Y=Object(N.a)({list:{width:250}});function G(e){var t=e.open,a=e.onCloseDrawer,n=Y();return c.a.createElement("div",null,c.a.createElement(x.a,{anchor:"left",open:t,onClose:function(){a(!1)}},c.a.createElement("div",{className:n.list},c.a.createElement(U.a,null,c.a.createElement(Q.a,{button:!0},c.a.createElement(F.a,{primary:"About us"}))))))}var P=a(65),H=a(83),V=a.n(H),J=Object(N.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),color:P.a[900]},title:{flexGrow:1,color:P.a[900]},colorDefault:{background:"#ffffff"},small:{width:e.spacing(3),height:e.spacing(3)}}}));function L(){var e=J(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],l=a[1];return c.a.createElement("div",null,c.a.createElement(B.a,{position:"static",classes:{colorDefault:e.colorDefault},color:"default"},c.a.createElement(k.a,null,c.a.createElement(T.a,{onClick:function(){l(!0)},edge:"start",className:e.menuButton,"aria-label":"menu"},c.a.createElement(M.a,null)),c.a.createElement(p.a,{mr:1},c.a.createElement(D.a,{src:V.a,className:e.small})),c.a.createElement(b.a,{variant:"h6",className:e.title},"DMRC Fault Reporting System"))),c.a.createElement(G,{open:r,onCloseDrawer:l}))}var z=a(175),X=a(176),K=a(183),W=a(177),Z=a(181),q=a(178),_=Object(N.a)({root:{minWidth:275}});function $(e){var t=e.onIssueSelect,a=_(),r=Object(n.useState)(""),l=Object(u.a)(r,2),o=l[0],i=l[1];return c.a.createElement("div",null,c.a.createElement(z.a,{className:a.root,variant:"outlined"},c.a.createElement(X.a,null,c.a.createElement(K.a,{onChange:function(e){return t(e.target.value)}},c.a.createElement(W.a,{value:"Machine is not responding.",control:c.a.createElement(Z.a,null),label:c.a.createElement(b.a,{variant:"h6"},"Machine is not responding.")}),c.a.createElement(W.a,{value:"Machine is off.",control:c.a.createElement(Z.a,null),label:c.a.createElement(b.a,{variant:"h6"},"Machine is off.")}),c.a.createElement(W.a,{value:"Cash struck in the machine.",control:c.a.createElement(Z.a,null),label:c.a.createElement(b.a,{variant:"h6"},"Cash struck in the machine.")}),c.a.createElement(W.a,{value:"Token not dispensed after taking money.",control:c.a.createElement(Z.a,null),label:c.a.createElement(b.a,{variant:"h6"},"Token not dispensed after taking money.")}),c.a.createElement(W.a,{value:o,control:c.a.createElement(Z.a,null),label:c.a.createElement(q.a,{onChange:function(e){i(e.target.value)},label:"Other"})})))))}var ee=Object(N.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function te(){var e=ee(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(null),m=Object(u.a)(o,2),s=m[0],E=m[1],A=Object(n.useState)(!1),d=Object(u.a)(A,2),h=d[0],v=d[1],g=Object(n.useState)(!1),j=Object(u.a)(g,2),O=j[0],R=j[1],S=Object(n.useState)(!1),I=Object(u.a)(S,2),N=(I[0],I[1],Object(n.useState)({})),B=Object(u.a)(N,2),k=B[0],T=B[1],D=Object(n.useContext)(C),M=function(e){f.collection("tickets").add(e).then((function(e){R(!1),T(e)})).catch((function(e){R(!1)}))};return D.machineRefNo?k.id?c.a.createElement(i.a,{to:"/success?ref=".concat(k.id)}):c.a.createElement(c.a.Fragment,null,!O&&c.a.createElement(p.a,{m:2},c.a.createElement(b.a,{variant:"h5",gutterBottom:!0},"Please choose or describe your Issue below."),c.a.createElement(b.a,{variant:"subtitle2",gutterButton:!0},"Machine Reference: ",D.machineRefNo),c.a.createElement($,{onIssueSelect:E}),h&&c.a.createElement(b.a,{variant:"subtitle2",gutterBottom:!0,color:"error"},"Please select your issue."),c.a.createElement(w.a,{variant:"contained",onClick:function(){if(null!==s){R(!0),v(!1),l(!0);var e={report:s,machineRefNo:D.machineRefNo,datetime:(new Date).getTime()};M(e)}else v(!0)},disabled:r,color:"primary",size:"large",className:e.margin},"Submit")),O&&c.a.createElement(p.a,{display:"flex",justifyContent:"center",m:1,p:1},c.a.createElement(y.a,{color:"secondary"}))):c.a.createElement(i.a,{to:"/"})}A.auth;function ae(){return c.a.createElement(p.a,{p:2},c.a.createElement(b.a,{variant:"h6",gutterBottom:!0},"Enter your mobil number for OTP."),c.a.createElement(q.a,{label:"Mobile No.",type:"number"}),c.a.createElement(w.a,{onClick:function(e){alert("OTP")}},"Submit"))}function ne(){return c.a.createElement(p.a,{m:1},c.a.createElement(h.a,null,c.a.createElement(p.a,{p:2},c.a.createElement(b.a,{variant:"h6"},"Open your google assistant app (android) or camera app (IOS) to scan the machine QR code."))))}var ce=a(66);var re=Object(N.a)({colorGreen:{color:ce.a[900]}});function le(){var e=Object(s.parse)(Object(i.f)().search).ref,t=re();return e?c.a.createElement(p.a,{m:2,p:2,component:h.a},c.a.createElement(b.a,{variant:"h6"},"Your query has been submitted to the DMRC grievance department. Your reference id is",c.a.createElement("br",null),c.a.createElement(b.a,{variant:"button",className:t.colorGreen},e))):c.a.createElement(i.a,{to:"/"})}var oe=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(L,null),c.a.createElement(S,null,c.a.createElement(o.a,null,c.a.createElement(i.b,{exact:!0,path:"/",component:ne}),c.a.createElement(i.b,{exact:!0,path:"/machine-info",component:I}),c.a.createElement(i.b,{exact:!0,path:"/report-issue",component:te}),c.a.createElement(i.b,{exact:!0,path:"/user-auth",component:ae}),c.a.createElement(i.b,{exact:!0,path:"/success",component:le}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5AgZDzkeo7dXBAAAAk5JREFUOMuN1FuIjVEYBuDn37PlTHK6kGPKYDAuXCDaLlwap4lCSkq5IEnulKSUU5SIciGJnIdSLmQSkimnttq5kcyFMGQGYWb2drHWr9/Y5KtV/7/Wu9611vt935vIRHNtnaG9urV11ozBUizGDAyJkA94giZcyeeS1q5yRaFU/MWRZMnQByuwFdPwDa14F2HDMRq98RQHcQHfU9IkQzYYO7ERHTiLyyjFfxiIyWjESvTHEexCR6FUlGRutgeb0YLtuIty9jmZw2swH3sxEwewAz9yEbcy3uwh1uJONTKkenXjdsQ+ihdphKS5tm4MrmICVkdg3v9FFxbidJRmaR5LYgJ+YDfKf9lcjiOJT4ZK/M6jHovyaIgLLfiazXwmujEOU/Eej+NcGu2YjYaU+SXW4E0Vwm5Mxwm8xibcyKxXMAq3UJ/DULzFR3QVSsXOQqnYiXTU42TErZdoQmcG1yUU/HsMryp+LA2Yi+Px1mtxT4Vq2U8jaa6ta4snrEZb5slTsV8o3m14kElGNipCB51B37zQmwtwPXtQJOontN9B5FSPSsQPw818JCrgs1CP5QwwBSf+HjVYFpN3PY8rWIeRuIT7/FunHjrPj/o+w7UcXuGwYFH7MLHHhn+RTRL6eQAOoTXV5axQZ7NxCnOQq0Ya53KYF7GzcBTnU/FT0BDBhjYINXlGsK8XUV+CfU3CcqzCIBwTbO9ToVT8w2D7CuWzBVPwJUqSGuwIjI245zH75/DtN4Otos14wY4WC203MM63R/Gv4mI58SrXo9B/AvL/u+4Q7DmQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA4LTI1VDE1OjU3OjMwLTA0OjAwb0egUQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wOC0yNVQxNTo1NzozMC0wNDowMB4aGO0AAAAASUVORK5CYII="},99:function(e,t,a){e.exports=a(131)}},[[99,1,2]]]);
//# sourceMappingURL=main.8cfdc375.chunk.js.map